Actor SkullWizard
{
  Obituary "%o succumbed to a Skull Wizard's magic"
  Health 400
  Radius 21
  Height 66
  Mass 120
  Speed 22
  PainChance 64
  MeleeRange 96
  MeleeDamage 4
  MissileType "SkullWizardProjectile"
  SeeSound "H2SkullWizard/Sight"
  PainSound "H2SkullWizard/Pain"
  DeathSound "H2SkullWizard/Death"
  ActiveSound "H2SkullWizard/Sight"
  MeleeSound "H2SkullWizard/Melee"
  Monster
  Species "Skullwizard"
  +FloorClip
  +DontHurtSpecies
  +MissileMore
  +MissileEvenMore
  var int user_Angle;
	var int user_PitchStore;
  States
  {
  Spawn:
    SKWZ A 1 A_Look
    Loop
  See:
    SKWZ A 1 A_Chase("Melee", "")
    SKWZ A 3 A_Chase
    SKWZ AAAAABBBBBBB 4 A_Chase
    Loop
  Melee:
    SKWZ C 8 A_FaceTarget
    SKWZ D 8 Bright A_FaceTarget
    SKWZ D 0 Bright A_PlaySound("H2SkullWizard/Melee")
    SKWZ D 8 Bright A_CustomBulletAttack(0, 0, 1, 8, "SkullWizardPuff")
    Goto See
  Missile:
// 	TNT1 A 0 A_Jump(72,"Conjure")
//     TNT1 A 0 A_Jump(96, "Teleporting")
// 	TNT1 A 0 A_Jump(200, "SummonRing", "MegaLaser", "Pincers")
	TNT1 A 0 A_Jump(256,"MegaLaser","SummonRing","Pincers")
// 	TNT1 A 0 A_Jump(256, "Pincers")
// 	TNT1 A 0 A_Jump(256, "SummonRing")
// 	TNT1 A 0 A_Jump(200,"Fanshot","SeekerShot","Lightningwalling","Columnshot","SparkBombing")
	SummonRing:
		TNT1 A 0 A_FaceTarget(0,180)
		TNT1 A 0 A_SetUserVar("user_Angle",Angle*10000)
		SKWZ D 1 Bright A_SetAngle(user_Angle*.0001)
		SKWZ E 1 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001+45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001-45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ D 1 Bright A_SetAngle(user_Angle*.0001)
		SKWZ E 1 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001+45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001-45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ D 1 Bright A_SetAngle(user_Angle*.0001)
		SKWZ E 1 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001+45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001-45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ D 1 Bright A_SetAngle(user_Angle*.0001)
		SKWZ E 1 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001+45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001-45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ D 1 Bright A_SetAngle(user_Angle*.0001)
		SKWZ E 1 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001+45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001-45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ D 1 Bright A_SetAngle(user_Angle*.0001)
		SKWZ E 1 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001+45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001-45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ D 1 Bright A_SetAngle(user_Angle*.0001)
		SKWZ E 1 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001+45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001-45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ D 1 Bright A_SetAngle(user_Angle*.0001)
		SKWZ E 1 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001+45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001-45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ D 1 Bright A_SetAngle(user_Angle*.0001)
		SKWZ E 1 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001+45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001-45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ D 1 Bright A_SetAngle(user_Angle*.0001)
		SKWZ E 1 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001+45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001-45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ D 1 Bright A_SetAngle(user_Angle*.0001)
		SKWZ E 1 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001+45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001-45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ D 1 Bright A_SetAngle(user_Angle*.0001)
		SKWZ E 1 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001+45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001-45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ D 1 Bright A_SetAngle(user_Angle*.0001)
		SKWZ E 1 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001+45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001-45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ D 1 Bright A_SetAngle(user_Angle*.0001)
		SKWZ E 1 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001+45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001-45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ D 1 Bright A_SetAngle(user_Angle*.0001)
		SKWZ E 1 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001+45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 0 Bright A_CustomMissile("SkullWizardFireBall", 40,0,user_Angle*.0001-45,CMF_SAVEPITCH | CMF_ABSOLUTEANGLE)
		SKWZ E 5
		TNT1 A 0 A_GiveInventory("SCZ_FireRing",1)
		SKWZ F 5
		TNT1 A 0 A_TakeInventory("SCZ_FireRing")
		SKWZ A 20
		Goto See

	Pincers:
		SKWZ DE 3
		TNT1 A 0 A_CustomMissile("SCZ_Pincer",0,0,-45)
		SKWZ F 5 A_CustomMissile("SCZ_Pincer2",0,0,45)
		SKWZ F 10
		SKWZ A 40
		Goto See

	MegaLaser:
		TNT1 A 0 A_FaceTarget(0,180)
			TNT1 A 0 A_SetUserVar("user_PitchStore",pitch*10000)
			TNT1 A 0 A_Warp(AAPTR_Default,0,0,10,0,WARPF_NOCHECKPOSITION)
			TNT1 A 0 A_FaceTarget(0,90)
			TNT1 A 0 A_JumpIf(Pitch < user_PitchStore*.0001,2)
			TNT1 A 0 A_SetUserVar("user_PitchStore",user_PitchStore*-1)
			TNT1 A 0 A_Warp(AAPTR_Default,0,0,-10,0,WARPF_NOCHECKPOSITION)
			TNT1 A 0 A_SetPitch(user_PitchStore*.0001)
		SKWZ D 0 A_CustomMissile("MegaLaser",40,0,0,CMF_SAVEPITCH | CMF_AIMDIRECTION,-pitch)
		TNT1 A 0 A_ChangeVelocity(-1,0,0,CVF_RELATIVE)
		SKWZ DEDED 4
		SKWZ F 10
		SKWZ A 10
		Goto See

  BasicShot:
    SKWZ C 8 A_FaceTarget
    SKWZ D 8 Bright A_FaceTarget
    SKWZ D 8 Bright A_CustomMissile("SkullWizardProjectile", 40, 0, 0)
    SKWZ D 0 Bright A_Jump(80, 2)
    SKWZ D 0 Bright A_SpidReFire
    Goto BasicShot+1
    SKWZ D 0
    Goto See
  FanShot:
    SKWZ C 4 A_FaceTarget
    SKWZ D 3 Bright A_FaceTarget
    SKWZ E 2 Bright A_FaceTarget
	TNT1 A 0 A_CustomMissile("SkulWizFirebolt",40,0,0)
	TNT1 A 0 A_CustomMissile("SkulWizFirebolt",40,0,5)
	TNT1 A 0 A_CustomMissile("SkulWizFirebolt",40,0,-5)
	TNT1 A 0 A_CustomMissile("SkulWizFirebolt",40,0,15)
	TNT1 A 0 A_CustomMissile("SkulWizFirebolt",40,0,-15)
	TNT1 A 0 A_CustomMissile("SkulWizFirebolt",40,0,25)
	TNT1 A 0 A_CustomMissile("SkulWizFirebolt",40,0,-25)
	TNT1 A 0 A_CustomMissile("SkulWizFirebolt",40,0,35)
	TNT1 A 0 A_CustomMissile("SkulWizFirebolt",40,0,-35)
	SKWZ F 2 Bright A_FaceTarget
	TNT1 A 0 A_CustomMissile("SkulWizFirebolt",40,0,10)
	TNT1 A 0 A_CustomMissile("SkulWizFirebolt",40,0,-10)
	TNT1 A 0 A_CustomMissile("SkulWizFirebolt",40,0,20)
	TNT1 A 0 A_CustomMissile("SkulWizFirebolt",40,0,-20)
	TNT1 A 0 A_CustomMissile("SkulWizFirebolt",40,0,30)
	TNT1 A 0 A_CustomMissile("SkulWizFirebolt",40,0,-30)
	SKWZ F 2 Bright A_FaceTarget
    Goto Teleporting+2
  Seekershot:
    SKWZ C 4 A_FaceTarget
    SKWZ D 3 Bright A_FaceTarget
    SKWZ E 2 Bright A_FaceTarget
	TNT1 A 0 A_CustomMissile("SkuWizseekerDart",40,20,random(-2,2))
	SKWZ F 1 Bright A_FaceTarget
	TNT1 A 0 A_CustomMissile("SkuWizseekerDart",40,20,random(-2,2))
	SKWZ F 1 Bright A_FaceTarget
	TNT1 A 0 A_CustomMissile("SkuWizseekerDart",40,20,random(-2,2))
	SKWZ F 1 Bright A_FaceTarget
	TNT1 A 0 A_CustomMissile("SkuWizseekerDart",40,20,random(-2,2))
	SKWZ F 1 Bright A_FaceTarget
	TNT1 A 0 A_CustomMissile("SkuWizseekerDart",40,20,random(-2,2))
	SKWZ F 1 Bright A_FaceTarget
	TNT1 A 0 A_CustomMissile("SkuWizseekerDart",40,20,random(-2,2))
	SKWZ F 1 Bright A_FaceTarget
	TNT1 A 0 A_CustomMissile("SkuWizseekerDart",40,20,random(-2,2))
	SKWZ F 1 Bright A_FaceTarget
	TNT1 A 0 A_CustomMissile("SkuWizseekerDart",40,20,random(-2,2))
	SKWZ F 1 Bright A_FaceTarget
    Goto Teleporting+2
  Lightningwalling:
    SKWZ C 4 A_FaceTarget
    SKWZ D 3 Bright A_FaceTarget
    SKWZ E 2 Bright A_FaceTarget
	SKWZ F 2 Bright A_CustomMissile("SkulWizLightninWaller", 40, 0, 0)
    Goto Teleporting+2
  Columnshot:
    SKWZ C 4 A_FaceTarget
    SKWZ D 3 Bright A_FaceTarget
    SKWZ E 2 Bright A_FaceTarget
	TNT1 A 0 A_CustomMissile("SkulWizColumnBall",40,-20)
	TNT1 A 0 A_CustomMissile("SkulWizColumnBall",30,-20)
	TNT1 A 0 A_CustomMissile("SkulWizColumnBall",20,-20)
	SKWZ F 2 Bright A_FaceTarget
	TNT1 A 0 A_CustomMissile("SkulWizColumnBall",40,-20)
	TNT1 A 0 A_CustomMissile("SkulWizColumnBall",30,-20)
	TNT1 A 0 A_CustomMissile("SkulWizColumnBall",20,-20)
	SKWZ F 2 Bright A_FaceTarget
	TNT1 A 0 A_CustomMissile("SkulWizColumnBall",40,-20)
	TNT1 A 0 A_CustomMissile("SkulWizColumnBall",30,-20)
	TNT1 A 0 A_CustomMissile("SkulWizColumnBall",20,-20)
	SKWZ F 2 Bright A_FaceTarget
	TNT1 A 0 A_CustomMissile("SkulWizColumnBall",40,-20)
	TNT1 A 0 A_CustomMissile("SkulWizColumnBall",30,-20)
	TNT1 A 0 A_CustomMissile("SkulWizColumnBall",20,-20)
	SKWZ F 2 Bright A_FaceTarget
	TNT1 A 0 A_CustomMissile("SkulWizColumnBall",40,-20)
	TNT1 A 0 A_CustomMissile("SkulWizColumnBall",30,-20)
	TNT1 A 0 A_CustomMissile("SkulWizColumnBall",20,-20)
	SKWZ F 2 Bright A_FaceTarget
	TNT1 A 0 A_CustomMissile("SkulWizColumnBall",40,-20)
	TNT1 A 0 A_CustomMissile("SkulWizColumnBall",30,-20)
	TNT1 A 0 A_CustomMissile("SkulWizColumnBall",20,-20)
	SKWZ F 2 Bright A_FaceTarget
    Goto Teleporting+2
  SparkBombing:
    SKWZ C 4
    SKWZ D 3 Bright
    SKWZ E 2 Bright
	TNT1 AAA 0 A_CustomMissile("SKulWizSparkbomb",40,0,random(0,359))
	SKWZ F 1 Bright
	TNT1 AAA 0 A_CustomMissile("SKulWizSparkbomb",40,0,random(0,359))
	SKWZ F 1 Bright
	TNT1 AAA 0 A_CustomMissile("SKulWizSparkbomb",40,0,random(0,359))
	SKWZ F 1 Bright
	TNT1 AAA 0 A_CustomMissile("SKulWizSparkbomb",40,0,random(0,359))
	SKWZ F 1 Bright
	TNT1 AAA 0 A_CustomMissile("SKulWizSparkbomb",40,0,random(0,359))
	SKWZ F 1 Bright
	TNT1 AAA 0 A_CustomMissile("SKulWizSparkbomb",40,0,random(0,359))
	SKWZ F 1 Bright
	TNT1 AAA 0 A_CustomMissile("SKulWizSparkbomb",40,0,random(0,359))
	SKWZ F 1 Bright
	TNT1 AAA 0 A_CustomMissile("SKulWizSparkbomb",40,0,random(0,359))
	SKWZ F 1 Bright
    Goto Teleporting+2
  Conjure:
	SKWZ C 3
	SKWZ D 4 Bright
	SKWZ E 5 Bright
	TNT1 A 0 A_CustomMissile("SkullEgg",1,0,90)
	TNT1 A 0 A_CustomMissile("SkullEgg",1,0,-90)
	SKWZ F 16 Bright
	TNT1 A 0 A_Jump(96, "Teleporting")
	Goto See
  Teleporting:
    SKWZ C 0 A_JumpIfCloser(512, 1)
    Goto See
    SKWZ C 0 A_ChangeFlag("NoPain", 1)
    SKWZ C 5 A_PlaySoundEx("H2SkullWizard/Teleport", "SoundSlot7", 0)
    SKWZ DEF 3 Bright
    TNT1 A 0 A_Stop
    TNT1 A 0 A_StopSoundEx("SoundSlot7")
    TNT1 A 0 A_SpawnItemEx("TeleportFog", 0, 0, 33, 0, 0, 0, 0, 128) //Remove the 33 for Doom
    TNT1 A 0 A_ChangeFlag(Invulnerable, 1)
    TNT1 A 0 A_UnSetShootable
    TNT1 A 0 A_ChangeFlag("NonShootable", 1)
    TNT1 A 0 A_ChangeFlag("NoRadiusDMG", 1)
    TNT1 A 0 A_ChangeFlag("NoTeleport", 1)
    TNT1 A 0 A_ChangeFlag("NoDropOff", 0)
    TNT1 A 0 A_ChangeFlag("FloorHugger", 1)
    TNT1 A 0 A_ChangeFlag("Float", 1)
    TNT1 A 0 A_ChangeFlag("NoGravity", 1)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Wander
    TNT1 AAA 2 A_Wander
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Wander
    TNT1 AAA 2 A_Wander
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Wander
    TNT1 AAA 2 A_Wander
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Wander
    TNT1 AAA 2 A_Wander
    SKWZ A 0 A_SpawnItemEx("TeleportFog", 0, 0, 33, 0, 0, 0, 0, 128) //Remove the 33 for Doom
    SKWZ A 0 A_ChangeFlag("NoDropOff", 1)
    SKWZ A 0 A_ChangeFlag("FloorHugger", 0)
    SKWZ A 0 A_ChangeFlag("Float", 0)
    SKWZ A 0 A_ChangeFlag("NoGravity", 0)
    SKWZ A 0 A_ChangeFlag(Invulnerable, 0)
    SKWZ A 0 A_SetShootable
    SKWZ A 0 A_ChangeFlag(Shootable, 1)
    SKWZ A 0 A_ChangeFlag("NonShootable", 0)
    SKWZ A 0 A_ChangeFlag("NoRadiusDMG", 0)
    SKWZ A 0 A_ChangeFlag("NoTeleport", 0)
    SKWZ A 0 A_ChangeFlag("NoPain", 0)
    Goto See
  Pain:
    SKWZ A 3
    SKWZ A 3 A_Pain
    SKWZ A 0 A_Jump(96, "Teleporting")
    Goto See
  Death:
    SKWZ G 5 A_Scream
    SKWZ HIJKLM 5 bright
    SKWZ N 5
    SKWZ O 5 A_NoBlocking
    SKWZ P -1
    Stop
   }
}



///////Flame Rings Start/////////

ACTOR SCZ_FireRing : Inventory
{
	inventory.MaxAmount 1
}

ACTOR SkullWizardFireBall
{
	Radius 6
	Height 8
	Speed 5
	Damage 0
	//Projectile
    Scale 1
	+MISSILE
	+NOGRAVITY
	+FORCEXYBILLBOARD
	+THRUGHOST
	//+EXTREMEDEATH
	gravity 0.3
	RenderStyle ADD
    DamageType Fire
	Alpha 1
	Decal "Scorch"
	SeeSound "BREATHOF"
	DeathSound "fatso/shotx"
	var int user_VelX;
	var int user_VelY;
	var int user_VelZ;
	var int user_Angle;
	var int user_Pitch;
	var int user_timer;
	States
	{
	Spawn:
	    TNT1 A 0
		TNT1 A 0 A_SetUserVar("user_VelX", VelX*10000)
		TNT1 A 0 A_SetUserVar("user_VelY", VelY*10000)
		TNT1 A 0 A_SetUserVar("user_VelZ", VelZ*10000)
		TNT1 A 0 A_SetUserVar("user_Angle", Angle*10000)
		TNT1 A 0 A_SetUserVar("user_Pitch", Pitch*10000)
		TNT1 A 0 A_Stop
	Spawn1:
		TNT1 A 0 A_JumpIf(user_timer > 50, "Flight")
		TNT1 A 0 A_SetUserVar("user_timer", user_timer+1)
		TNT1 A 0 A_JumpIfInventory("SCZ_FireRing", 1, "Flight", AAPTR_TARGET)
		TNT1 A 0 A_Stop
		TNT1 A 0 A_ChangeVelocity(Cos(pitch)*10,0,-10*sin(pitch),CVF_RELATIVE | CVF_REPLACE)
		TNT1 A 0 A_SetPitch(Pitch-18)
		PRXD A 1
		TNT1 A 0 A_JumpIfInventory("SCZ_FireRing", 1, "Flight", AAPTR_TARGET)
		TNT1 A 0 A_Stop
		TNT1 A 0 A_ChangeVelocity(Cos(pitch)*10,0,-10*sin(pitch),CVF_RELATIVE | CVF_REPLACE)
		TNT1 A 0 A_SetPitch(Pitch-18)
		PRXD A 1
		TNT1 A 0 A_JumpIfInventory("SCZ_FireRing", 1, "Flight", AAPTR_TARGET)
		TNT1 A 0 A_Stop
		TNT1 A 0 A_ChangeVelocity(Cos(pitch)*10,0,-10*sin(pitch),CVF_RELATIVE | CVF_REPLACE)
		TNT1 A 0 A_SetPitch(Pitch-18)
		PRXD A 1
		TNT1 A 0 A_JumpIfInventory("SCZ_FireRing", 1, "Flight", AAPTR_TARGET)
		TNT1 A 0 A_Stop
		TNT1 A 0 A_ChangeVelocity(Cos(pitch)*10,0,-10*sin(pitch),CVF_RELATIVE | CVF_REPLACE)
		TNT1 A 0 A_SetPitch(Pitch-18)
		Loop
		//TNT1 A 0 ACS_ExecuteAlways(798, 0, 0, 0, 0)//Check Effects

	PreFlight:
	Flight:
		FX00 C 1 A_SetPitch(Pitch-18)
// 		TNT1 A 0 A_SpawnItem ("FireballExplosionFlamesSmall")
		TNT1 A 0 A_SpawnItem("RedFlare22")
		TNT1 A 0 A_ChangeVelocity(Cos(pitch)*10,0,-10*sin(pitch),CVF_RELATIVE | CVF_REPLACE)
		TNT1 A 0 A_ChangeVelocity(user_VelX*.0001,user_VelY*.0001,user_VelZ*.0001)
		PRXD A 0 BRIGHT A_SpawnItem("RedFlareMedium")
		FX00 D 1 A_SetPitch(Pitch-18)
// 		TNT1 A 0 A_SpawnItem ("FireballExplosionFlamesSmall")
		TNT1 A 0 A_SpawnItem("RedFlare22")
		TNT1 A 0 A_ChangeVelocity(Cos(pitch)*10,0,-10*sin(pitch),CVF_RELATIVE | CVF_REPLACE)
		TNT1 A 0 A_ChangeVelocity(user_VelX*.0001,user_VelY*.0001,user_VelZ*.0001)
		PRXD A 0 BRIGHT A_SpawnItem("RedFlareMedium")
		FX00 E 1 A_SetPitch(Pitch-18)
// 		TNT1 A 0 A_SpawnItem ("FireballExplosionFlamesSmall")
		TNT1 A 0 A_SpawnItem("RedFlare22")
		TNT1 A 0 A_ChangeVelocity(Cos(pitch)*10,0,-10*sin(pitch),CVF_RELATIVE | CVF_REPLACE)
		TNT1 A 0 A_ChangeVelocity(user_VelX*.0001,user_VelY*.0001,user_VelZ*.0001)
		PRXD A 0 BRIGHT A_SpawnItem("RedFlareMedium")
		FX00 F 1 A_SetPitch(Pitch-18)
// 		TNT1 A 0 A_SpawnItem ("FireballExplosionFlamesSmall")
		TNT1 A 0 A_SpawnItem("RedFlare22")
		TNT1 A 0 A_ChangeVelocity(Cos(pitch)*10,0,-10*sin(pitch),CVF_RELATIVE | CVF_REPLACE)
		TNT1 A 0 A_ChangeVelocity(user_VelX*.0001,user_VelY*.0001,user_VelZ*.0001)
		PRXD A 0 BRIGHT A_SpawnItem("RedFlareMedium")
		Loop

	Melee:
	Crush:
	XDeath:
	Death:
	Detonate:
// 	TNT1 A 0 A_ChangeFlag("Friendly",0)
	PROX C 0 Bright A_PlaySound("RUNEXP")
	TNT1 AAAAA 0 A_CustomMissile ("BluePlasmaParticle", 0, 0, random (0, 360), 2, random (0, 360))
	TNT1 A 0 A_Explode(2,150,0,0,100)
    PROX C 0 Bright A_NoGravity
    PROX C 0 Bright A_SetTranslucent(0.5, 1)
	PRXD AAAAAAAAAAAA 2 Bright A_SpawnItemEx ("ExplosionFlareSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	stop

	TNT1 A 0 A_Explode(5, 200)
    TNT1 A 0 A_Playsound("Pyromancy/FireballHit")
	TNT1 A 0 A_ChangeFlag("NOGRAVITY", 0)
	TNT1 AAAA 0 A_SpawnItemEx ("ExplosionFlareSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	EXPL A 0 A_SpawnItem("ExplosionParticleSpawner")
	//EXPL AAAAAAA 0 A_CustomMissile ("FireballExplosionFlamesBig", 6, 0, random (0, 360), 2, random (0, 360))
	TNT1 AA 0 A_CustomMissile ("PyromancyLargeSparksFlames", 0, 0, random (0, 360), 2, random (0, 360))
	EXPL AAA 0 A_CustomMissile ("FlyingBurningFuelMagic", 12, 0, random (0, 360), 2, random (40, 160))
	TNT1 A 2 A_CustomMissile ("PyromancyInfernoExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))
// 	TNT1 A 0 A_Explode(20, 150)
	TNT1 A 2 A_CustomMissile ("PyromancyLargeExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))
// 	TNT1 A 0 A_Explode(20, 150)
	TNT1 A 2 A_CustomMissile ("PyromancyLargeExplosionFlames2", 0, 0, random (0, 360), 2, random (0, 360))
// 	TNT1 A 0 A_Explode(20, 150)
	EXPL AAA 0 A_CustomMissile ("OldschoolRocketSmokeTrailDarker", 12, 0, random (0, 360), 2, random (40, 160))
	TNT1 AA 2 A_CustomMissile ("PyromancyExplosion2Flames", 0, 0, random (0, 360), 2, random (0, 360))
// 	TNT1 A 0 A_Explode(20, 150)
	TNT1 A 2 A_CustomMissile ("PyromancyInfernoExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))
// 	TNT1 A 0 A_Explode(20, 150)
	EXPL AAA 0 A_CustomMissile ("OldschoolRocketSmokeTrailDarker", 12, 0, random (0, 360), 2, random (40, 160))
	TNT1 AAAA 2 A_CustomMissile ("PyromancyExplosion2Flames", 0, 0, random (0, 360), 2, random (0, 360))
// 	TNT1 AAAA 2 A_Explode(20, 150)

	//TNT1 AA 1 A_CustomMissile ("PyromancyInfernoFlames", 0, 0, random (0, 360), 2, random (0, 360))
	//EXPL AAAAAAA 0 A_CustomMissile ("FlamethrowerMissleSlow", 6, 0, random (0, 360), 2, random (0, 25))
	//EXPL AAAAA 0 A_CustomMissile ("BigNeoSmoke", 0, 0, random (0, 360), 2, random (0, 360))
	//FRFX ZZZ 0 BRIGHT A_CustomMissile ("BigNeoSmoke", 2, 0, random (0, 360), 2, random (0, 360))
	//EXPL AAA 0 A_CustomMissile ("OldschoolRocketSmokeTrailDarker", 12, 0, random (0, 360), 2, random (40, 160))

	//EXPL AAAAAA 0 A_CustomMissile ("FlamethrowerMissleSlow", 6, 0, random (0, 360), 2, random (0, 40))
	//TNT1 AAAAAA 20 A_CustomMissile ("BigBlackSmoke", 0, 0, random (0, 360), 2, random (40, 160))
	Stop

	//ExplosionEffect:
		TNT1 A 0
		TNT1 AAAA 0 A_SpawnItemEx ("ExplosionFlareSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
		EXPL A 0 A_SpawnItem("ExplosionParticleSpawner")
		//EXPL A 0 A_CustomMissile ("FlamethrowerMissleSlow", 6, 0, random (0, 360), 2, random (0, 90))
		//FRFX ZZZ 0 BRIGHT A_CustomMissile ("BigBlackSmoke", 2, 0, random (0, 360), 2, random (0, 30))
		//TNT1 A 2 A_SpawnItem("BurningGroundLowDamage")

//		TNT1 AA 1 A_CustomMissile ("PyromancySparksFlames2", 0, 0, random (0, 360), 2, random (0, 360))
//		TNT1 AA 1 A_CustomMissile ("PyromancyExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))
//      TNT1 AA 0 A_CustomMissile ("PyromancyLargeSparksFlames", 0, 0, random (0, 360), 2, random (0, 360))
//		TNT1 A 1 A_SpawnItem("GroundExplosion")


		TNT1 A 0 A_SpawnItemEx("TinyBurningPiece", random (-15, 15), random (-15, 15))
		TNT1 A 0 A_SpawnItemEx("TinyBurningPiece2", random (-35, 35), random (-35, 35))
		TNT1 A 0 A_SpawnItemEx("TinyBurningPiece3", random (-45, 45), random (-45, 35))
		TNT1 AAAAAA 20 A_CustomMissile ("BigBlackSmoke", 0, 0, random (0, 360), 2, random (40, 160))
		Stop
	}
}

///////Flame Rings End///////////

//This was just to test how to make circles at arbitrary angles.
ACTOR AngleCircle
{
	Projectile
	Speed 10
	+NOINTERACTION
	var int user_Counter;
	var int user_DeathCounter;
	var int user_PitchStore;
	var int user_AngleStore;

	var int user_RollAngle;
	var int user_Rad;
	var int user_CustX;
	var int user_CustY;
	var int user_CustZ;
	var int user_i;
	States
	{
		Spawn:
			TNT1 A 0
// 			TNT1 A 0 A_FaceMovementDirection
			TNT1 A 0 A_Stop
			TNT1 A 100
			TNT1 A 0 A_SetUserVar("user_Rad",30)
			TNT1 A 0 A_SetUserVar("user_PitchStore", pitch*10000)
			TNT1 A 0 A_SetUserVar("user_AngleStore", Angle*10000)
		Spawn1:
			TNT1 A 0 A_SetUserVar("user_Counter",user_Counter+1)

			TNT1 A 0 A_JumpIf(user_RollAngle >= 360,"Randomness")
			TNT1 A 0 A_SetUserVar("user_RollAngle",user_RollAngle+10)
			TNT1 A 0 A_SetUserVar("user_CustX",(Cos(pitch+90)*Cos(angle)*Cos(user_RollAngle)*user_Rad + Cos(Angle+90)*Sin(user_RollAngle)*user_Rad)*10000)
			TNT1 A 0 A_SetUserVar("user_CustY",(Cos(pitch+90)*Sin(angle)*Cos(user_RollAngle)*user_Rad + Sin(Angle+90)*Sin(user_RollAngle)*user_Rad)*10000)
			TNT1 A 0 A_SetUserVar("user_CustZ",(-Sin(pitch+90)*Cos(user_RollAngle)*user_Rad)*10000)
// 			TNT1 A 0 A_SpawnParticle("Red", 0, 50, 10, 0, user_CustX * .0001, user_CustY * .0001, user_CustZ * .0001)
// 			TNT1 A 0 A_SpawnParticle("Yellow", 0, 3000, 10, 0, Cos(Angle+90)*user_CustY, Sin(Angle+90)*user_CustY)
			Loop
		Randomness:
// 			TNT1 A 0 A_SetUserVar("user_DeathCounter", user_DeathCounter+1)
// 			TNT1 A 0 A_JumpIf(user_DeathCounter > 6, "Death")
			TNT1 A 0 A_SetUserVar("user_Counter", 0)
			TNT1 A 0 A_SetUserVar("user_RollAngle", 0)
			TNT1 A 0 A_SetPitch(random(0,360))
			TNT1 A 30 A_SetAngle(random(0,360))
			GoTo Spawn1
		Death:
			TNT1 A 0
			TNT1 A 0 A_SetPitch(user_PitchStore*.0001)
			TNT1 A 0 A_SetAngle(user_AngleStore*.0001)
// 			TNT1 A 0 A_SpawnParticle("Blue", 0, 3000, 5, 0, Cos(pitch)*Cos(angle)*user_Counter, Cos(pitch)*Sin(angle)*user_Counter, -Sin(pitch)*user_Counter)
			TNT1 A 0
			Stop

	}
}

///////MegaLaser Start///////////

//if you're going to use this for a player, don't use A_FireCustomMissile()
//Use something like TNT1 A 0 A_SpawnItemEx("MegaLaser", 10, 0, 30, 0,0,0,0,SXF_TRANSFERPITCH)
//Since it needs the pitch to be transferred from the user, and A_FireCustomMissile() isn't able to do that.
ACTOR MegaLaser
{
	+NOINTERACTION
	+NOCLIP
	+MISSILE
	Speed 1
	var int user_Switch;


	var int user_PitchStore;
	var int user_AngleStore;

	var int user_RollAngle;
	var int user_Rad;
	var int user_CustX;
	var int user_CustY;
	var int user_CustZ;
	States
	{
		Spawn:
			TNT1 A 0
// 			TNT1 A 0 A_FaceMovementDirection
			TNT1 A 0 A_Stop
			TNT1 A 0 A_SetUserVar("user_PitchStore", pitch*10000)
			TNT1 A 0 A_SetUserVar("user_AngleStore", Angle*10000)
			TNT1 A 0 A_SetUserVar("user_Rad",40)
// 			TNT1 A 0 A_SetUservar("user_Switch",user_Switch+1)
// 			TNT1 A 0 A_JumpIf(user_Switch == 9,"Fire")
// 			TNT1 A 0 A_SpawnItem("RedFlare22")
// 			TNT1 A 0 A_SpawnItemEx("SCZ_Swirl", 0, cos(pitch)*40, 40*sin(pitch), 0,0,0,0,SXF_TRANSFERPITCH)
// 			TNT1 A 0 A_SetPitch(pitch+45)
// 			Goto Fire
// 			Goto Spawn+3
		Spawn1:
// 			TNT1 A 0 A_SetUserVar("user_Counter",user_Counter+1)

// 			TNT1 A 0 A_JumpIf(user_RollAngle >= 360,"Randomness")
			TNT1 A 0 A_SetUservar("user_Switch",user_Switch+1)
			TNT1 A 0 A_JumpIf(user_Switch == 9,"Fire")
			TNT1 A 0 A_SpawnItem("RedFlare22")
			TNT1 A 0 A_SetUserVar("user_RollAngle",user_RollAngle+45)
			TNT1 A 0 A_SetUserVar("user_CustX",(Cos(pitch+90)*Cos(angle)*Cos(user_RollAngle)*user_Rad + Cos(Angle+90)*Sin(user_RollAngle)*user_Rad)*10000)
			TNT1 A 0 A_SetUserVar("user_CustY",(Cos(pitch+90)*Sin(angle)*Cos(user_RollAngle)*user_Rad + Sin(Angle+90)*Sin(user_RollAngle)*user_Rad)*10000)
			TNT1 A 0 A_SetUserVar("user_CustZ",(-Sin(pitch+90)*Cos(user_RollAngle)*user_Rad)*10000)
			TNT1 A 0 A_SpawnItemEx("SCZ_Swirl", user_CustX * .0001 - user_RollAngle, user_CustY * .0001, user_CustZ * .0001, user_RollAngle,0,0,0,SXF_TRANSFERPITCH | SXF_ABSOLUTEPOSITION | SXF_ABSOLUTEVELOCITY)
// 			TNT1 A 0 A_SpawnParticle("Red", 0, 50, 10, 0, user_CustX * .0001, user_CustY * .0001, user_CustZ * .0001)
// 			TNT1 A 0 A_SpawnParticle("Yellow", 0, 3000, 10, 0, Cos(Angle+90)*user_CustY, Sin(Angle+90)*user_CustY)user_RollAngle
			Loop

		Fire:
// 			TNT1 A 500 A_Stop
			TNT1 A 25 A_SetPitch(user_PitchStore*.0001)
			TNT1 A 0 A_PlaySound("PZAPFIRE",0)
			TNT1 A 0 A_CustomMissile("SkullWizLightning",0,0,0,CMF_AIMDIRECTION | CMF_TRACKOWNER,-pitch)
// 			TNT1 A 0 A_CustomMissile("SkullWizLightning",0,0,0,CMF_AIMDIRECTION | CMF_TRACKOWNER,-pitch)
// 			TNT1 A 0 A_CustomMissile("SkullWizLightning",0,0,0,CMF_AIMDIRECTION | CMF_TRACKOWNER,-pitch)
// 			TNT1 A 0 A_CustomMissile("Electroblast",0,0,0,CMF_AIMDIRECTION | CMF_TRACKOWNER,-pitch)
// 			TNT1 A 0 A_CustomMissile("Electroblast",0,0,0,CMF_AIMDIRECTION | CMF_TRACKOWNER,-pitch)
// 			TNT1 A 0 A_CustomMissile("Electroblast",0,0,0,CMF_AIMDIRECTION | CMF_TRACKOWNER,-pitch)
// 			TNT1 A 0 A_CustomMissile("Electroblast",0,0,0,CMF_AIMDIRECTION | CMF_TRACKOWNER,-pitch)
// 			TNT1 A 0 A_CustomMissile("Electroblast",0,0,0,CMF_AIMDIRECTION | CMF_TRACKOWNER,-pitch)
			TNT1 A 0 A_CustomMissile("SCZ_LightningBeam",0,0,0,CMF_AIMDIRECTION | CMF_TRACKOWNER,-pitch)
// 			TNT1 A 0 A_CustomMissile("MageFlameMissile",0,0,0,CMF_AIMDIRECTION,-pitch)
// 			TNT1 AAA 3 A_CustomMissile("SkullWizLightning",0,0,0,CMF_AIMDIRECTION | CMF_TRACKOWNER,-pitch)
			Stop

		Death:
			TNT1 A 0
			Stop

	}
}

ACTOR SCZ_Swirl
{
	+NOINTERACTION
	Scale .1
	Renderstyle ADD
	var int user_ticker;
	var int user_timer;
	var int user_radius;
	var int user_sides;

	var int user_RollAngle;
	var int user_CustX;
	var int user_CustY;
	var int user_CustZ;
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_SetUserVar("user_RollAngle",VelX)
			TNT1 A 0 A_Stop
			TNT1 A 0 A_SetUserVar("user_radius",40)
			TNT1 A 0 A_SetUserVar("user_Sides",10)
			TNT1 A 0 A_SetUserVar("user_RollAngle",user_RollAngle+90-(360.0/user_sides)/2)
// 			TNT1 A 0 A_SetPitch(Pitch+90-(360.0/user_sides)/2)//+67.5
// 			SPRK A 80
// 			SPRK A 10 A_Log("Wait")
// 			SPKB A 1 A_ChangeVelocity(Cos(pitch)*(2*user_radius*sin((360.0/user_sides)/2)),0,-sin(pitch)*(2*user_radius*sin((360.0/user_sides)/2)),CVF_RELATIVE | CVF_REPLACE)
// 			TNT1 A 0 A_LogFloat((2*user_radius*sin((360.0/user_sides)/2)))
		Spawn1:
// 			TNT1 A 0 A_SetUserVar("user_Counter",user_Counter+1)

			TNT1 A 0 A_SetUserVar("user_RollAngle",user_RollAngle + (360/user_sides+user_ticker))
			TNT1 A 0 A_SetUserVar("user_CustX",(Cos(pitch+90)*Cos(angle)*Cos(user_RollAngle) + Cos(Angle+90)*Sin(user_RollAngle))*10000)
			TNT1 A 0 A_SetUserVar("user_CustY",(Cos(pitch+90)*Sin(angle)*Cos(user_RollAngle) + Sin(Angle+90)*Sin(user_RollAngle))*10000)
			TNT1 A 0 A_SetUserVar("user_CustZ",(-Sin(pitch+90)*Cos(user_RollAngle))*10000)
			SPRK A 0 A_ChangeVelocity(user_CustX*.0001*2*(user_radius*sin((360.0/user_sides)/2)),user_CustY*.0001*2*(user_radius*sin((360.0/user_sides)/2)),user_CustZ*.0001*2*(user_radius*sin((360.0/user_sides)/2)),CVF_REPLACE)
// 			TNT1 A 0 A_SpawnParticle("Red", 0, 50, 10, 0, user_CustX * .0001, user_CustY * .0001, user_CustZ * .0001)
// 			TNT1 A 0 A_Logint(user_timer)
			TNT1 A 0 A_SetScale(.1+user_timer*.05)
			TNT1 A 0 A_JumpIf(user_timer > 25, "Death")
// 			FX00 C 0 A_SetPitch(Pitch - (360/user_sides+user_ticker))
// 			TNT1 A 0 A_JumpIf(user_timer < 40,3)
			TNT1 A 0 A_JumpIf(user_timer % 1 != 0,2)
			TNT1 A 0 //A_SetUserVar("User_Ticker", user_ticker+1)
			TNT1 A 0 A_SetUserVar("user_timer",user_timer + 1)
			SPKB A 1
// 			L2NB B 1 //A_JumpIf(user_timer%5 != 0,1)
// 			LFX1 T 1 A_JumpIf(user_timer%5 != 1,1)
// 			LFX1 U 1 A_JumpIf(user_timer%5 != 2,1)
// 			LFX1 V 1 A_JumpIf(user_timer%5 != 3,1)
// 			LFX1 W 1 A_JumpIf(user_timer%5 != 4,1)
			Loop
		Death:
			TNT1 A 0
			TNT1 AAAAAAAAAAAAA 0 A_CustomMissile ("BluePlasmaParticle", 0, 0, random (0, 360), 2, random (0, 360))
			Stop
	}
}

ACTOR SkullWizLightning : FastProjectile
{
	Radius 10
	Height 15
	Projectile
	Speed 120
    Damage (0)
	DamageType Plasma
    //Gravity 0.2
    Decal "Scorch"
	Renderstyle Add
    //-NOGRAVITY
	+EXTREMEDEATH
	+THRUGHOST
	Scale .5

  SeeSound "electrogun/shoot"
  DeathSound "electrogun/hit"
	Obituary "$OB_MPROCKET"
	States
	{

	Spawn:
//        TNT1 A 0 A_SpawnItemEx("SmallBlueFlameTrails", 0, 0, 0, 0, 0, 0, 0, 128)
   		TNT1 A 0 A_CustomMissile("SkullWizLightning2",0,0,frandom(-15,15),CMF_TRACKOWNER | CMF_AIMDIRECTION,(momz+frandom(-15,15)))
  		ZAP6 A 1 BRIGHT A_SpawnItem("BlueFlareSmall",0,0)
		TNT1 A 0 A_Weave(10, 10, random( -7, 7), random( -7, 7))
        TNT1 AAAA 0 //A_SpawnItemEx("SmallBlueFlameTrails", 0, 0, 5, 0, 0, 0, 0, 128)
    	TNT1 AAAA 0 //A_SpawnItemEx("StormTrailParticle", 0, 0, 0, frandom(15,15), 0, 0, 0, 128)
        ZAP6 BC 1 BRIGHT A_SpawnItem("BlueFlareSmall",0,0)
		TNT1 AAAA 0 //A_SpawnItemEx("StormTrailParticle", 0, 0, 0, 20, 0, 0, 0, 128)

        Loop
    Death:
            TNT1 AAA 0 A_SpawnItemEx("PlasmaParticleSpawner", 0, 0, 0, 6, 6, 6, 0, 128)
        FRPB ABCDEFGH 2 BRIGHT  A_SpawnItem("BlueFlare",0,0)
        TNT1 AAAAA 19 A_CustomMissile ("PlasmaSmoke", 1, 0, random (0, 360), 2, random (0, 160))
        Stop
    XDeath:
            TNT1 AAA 0 A_SpawnItemEx("PlasmaParticleSpawner", 0, 0, 0, 0, 0, 0, 0, 128)
        FRPB ABCDEFGH 2  A_SpawnItem("BlueFlare",0,0)
        Stop
    Crash:
            TNT1 AAA 0 A_SpawnItemEx("PlasmaParticleSpawner", 0, 0, 0, 6, 6, 6, 0, 128)
        FRPB ABCDEFGH 2 BRIGHT  A_SpawnItem("BlueFlare",0,0)
        TNT1 AAAAA 19 A_CustomMissile ("PlasmaSmoke", 1, 0, random (0, 360), 2, random (0, 160))
        Stop
	}
}

ACTOR SkullWizLightning2
{
    Radius 2
    Height 2
    Damage (0)
	Damagetype Lightning
	+RIPPER
	+DOOMBOUNCE
	SeeSound "PZAPFIRE"

	scale .3
    Speed 100
    PROJECTILE
    +BLOODLESSIMPACT
    -EXTREMEDEATH
    +NODAMAGETHRUST
	ProjectileKickBack 200
    DeathSound "weapons/lightningend"
	Species "Marines"
	+THRUSPECIES
	+MTHRUSPECIES

	renderstyle ADD
	alpha 0.90

	States
    {
    Spawn:
	TNT1 A 0 A_Weave(12, 12, random( -8, 8), random( -8, 8))
	ZAP6 A 1 BRIGHT
	TNT1 A 0 A_CustomMissile("SkullWizLightning3",0,0,frandom(-15,15),CMF_TRACKOWNER | CMF_AIMDIRECTION,(momz+frandom(-15,15)))
	ZAP6 B 1 BRIGHT
	ZAP6 C 1
	TNT1 A 0 A_CustomMissile("SkullWizLightning3",0,0,frandom(-15,15),CMF_TRACKOWNER | CMF_AIMDIRECTION,(momz+frandom(-15,15)))
	ZAP6 A 1
	TNT1 A 0 A_CustomMissile("SkullWizLightning3",0,0,frandom(-40,40),CMF_TRACKOWNER | CMF_AIMDIRECTION,(momz+frandom(-30,30)))
	ZAP6 B 1
	TNT1 A 0 A_CustomMissile("SkullWizLightning3",0,0,frandom(-40,40),CMF_TRACKOWNER | CMF_AIMDIRECTION,(momz+frandom(-30,30)))
// 	TNT1 A 1 A_SpawnItemEx("LightningTrailSmall",0,0,0,0,0,0,0,32)
// 	TNT1 A 0 A_SpawnItemEx("LightningTrailSmall",0,0,0,0,0,0,0,32)

	Stop
	Crash:
	XDeath:
    Death:
    //TNT1 AAAA 0 A_CustomMissile ("ShoqueAzul", 3, 0, random (0, 360), 2, random (0, 360))
// 	TNT1 AAAAAAA 0 A_SpawnItemEx("DLightningFX",0,0,0,frandom(3,-3),frandom(3,-3),frandom(3,-3),0,0)
	TNT1 AAAAA 0 A_CustomMissile ("BluePlasmaParticle", 0, 0, random (0, 360), 2, random (0, 360))
        SH1K ABCDEFG 2 BRIGHT A_SpawnItem("BlueFlare",0,0)
// 	TNT1 A 0 A_SpawnItemEx("LightningTrailLarge",0,0,0,0,0,0,0,32)
	//TNT1 A 0 A_Explode(15,10,0)
	TNT1 A 1 A_Scream
	Stop
    }
}

ACTOR SkullWizLightning3 : SkullWizLightning2
{
	Radius 2
    Height 2
	+RIPPER
	+NOINTERACTION
// 	Damage (80)
	DamageType Lightning
	SeeSound "LIGHTN"
	scale .8

    States
    {
    Spawn:
	TNT1 A 0 A_Weave(12, 12, random( -8, 8), random( -8, 8))
	ZAP6 C 1// A_SeekerMissile(60,70, SMF_LOOK|SMF_PRECISE)
// 	TNT1 A 0 A_SpawnItemEx("LightningTrail",0,0,0,0,0,0,0,32)
// 	TNT1 A 0 A_CustomMissile("LightningMissileTargetSeeker",0,0,frandom(-30,30),CMF_TRACKOWNER | CMF_AIMDIRECTION,(momz+frandom(-15,15)))
// 	TNT1 A 0 A_SeekerMissile(60,70, SMF_LOOK|SMF_PRECISE)
	ZAP6 A 1 //A_SpawnItemEx("LightningTrailSmall",0,0,0,0,0,0,0,32)
	ZAP6 B 1
	ZAP6 C 1 //A_SpawnItemEx("LightningTrailSmall",0,0,0,0,0,0,0,32)
	ZAP6 A 1 //A_SpawnItemEx("LightningTrailSmall",0,0,0,0,0,0,0,32)
	ZAP6 C 1 //A_SpawnItemEx("LightningTrailSmall",0,0,0,0,0,0,0,32)
	ZAP6 B 1 //A_SpawnItemEx("LightningTrailSmall",0,0,0,0,0,0,0,32)
	ZAP6 A 1 //A_SpawnItemEx("LightningTrailSmall",0,0,0,0,0,0,0,32)
	ZAP6 C 1 //A_SpawnItemEx("LightningTrailSmall",0,0,0,0,0,0,0,32)
	ZAP6 B 1 //A_SpawnItemEx("LightningTrailSmall",0,0,0,0,0,0,0,32)
	Stop
	Crash:
	XDeath:
	    //TNT1 AAAA 0 A_CustomMissile ("ShoqueAzul", 3, 0, random (0, 360), 2, random (0, 360))
// 	TNT1 AAAAAAA 0 A_SpawnItemEx("DLightningFX",0,0,0,frandom(3,-3),frandom(3,-3),frandom(3,-3),0,0)
	TNT1 AAAAA 0 A_CustomMissile ("BluePlasmaParticle", 0, 0, random (0, 360), 2, random (0, 360))
        SH1K ABCDEFG 2 BRIGHT A_SpawnItem("BlueFlare",0,0)
// 	TNT1 A 0 A_SpawnItemEx("LightningTrailLarge",0,0,0,0,0,0,0,32)
	//TNT1 A 0 A_Explode(15,10,0)
	TNT1 A 1 A_Scream
	TNT1 A 2
	//TNT1 A 0 A_CustomMissile("LightningMissileTargetSeeker",0,0,frandom(-45,45),6,(momz+frandom(-15,15)))

// 	TNT1 A 0 A_SpawnItemEx("LightningMissile5",32,0,0,0,0,0,0,32)

    Death:
 	TNT1 A 0 A_SpawnItemEx("LightningTrailSmall",0,0,0,0,0,0,0,32)
	Stop
    }
}

ACTOR SCZ_LightningBeam : FastProjectile
{
	Projectile
	speed 120
	Damage (random(15,45))
	radius 40
	height 30

    Decal "Scorch"
	MissileType "SCZ_LightningFlare"
	Renderstyle ADD
	States
	{
		Spawn:
			SKOB ABCDE 1 //A_RearrangePointers(AAPTR_Null, AAPTR_TARGET, AAPTR_DEFAULT)
			Loop
		Death:
			ZPRJ ABCDEFGHIJKL 1
			ZEXP ABCDEFGHIJ 1
			Stop
	}
}

///////MegaLaser End/////////////
///////Pincer Attack Start///////

ACTOR SCZ_Pincer
{
	Projectile
	Speed 20
	+NOEXPLODEFLOOR
	+FLOORHUGGER
	+NOINTERACTION
	var int user_Spawn;
	var int user_Switch;
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_SetPitch(1)
		Missile:
			TNT1 A 0 A_SetUserVar("user_Switch",user_Switch+1)
			TNT1 A 0 A_JumpIf(user_Switch > 25,"Death")
			TNT1 A 0 A_SetAngle(Angle+Pitch)
			TNT1 A 0 A_SetPitch(pitch*1.17)
			TNT1 A 0 A_ChangeVelocity(20,0,0,CVF_RELATIVE | CVF_REPLACE)
			TNT1 A 0 A_Explode(5, 200)
			TNT1 A 0 A_Playsound("Pyromancy/FireballHit",0)
			TNT1 A 0 A_ChangeFlag("NOGRAVITY", 0)
			TNT1 A 0 A_SpawnItem("RedFlare22")
			TNT1 A 0 A_JumpIf(user_Spawn%2 != 0,4)
			EXPL A 0 A_CustomMissile ("FlyingBurningFuelMagic", 12, 0, random (0, 360), 2, random (40, 160))
			EXPL A 0 A_CustomMissile ("FlyingBurningFuelNapalm", 12, 0, random (0, 360), 2, random (40, 160))
			EXPL A 0 A_CustomMissile ("OldschoolRocketSmokeTrailDarker", 12, 0, random (0, 360), 2, random (40, 160))
// 			EXPL A 0 A_CustomMissile ("PyromancyInfernoExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))
			EXPL A 0 A_SpawnItemEx("SmallExplosionFlames")
// 			TNT1 AAAA 0 A_SpawnItemEx ("ExplosionFlareSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
// 			EXPL A 0 A_SpawnItem("ExplosionParticleSpawner")
			//EXPL AAAAAAA 0 A_CustomMissile ("FireballExplosionFlamesBig", 6, 0, random (0, 360), 2, random (0, 360))
// 			TNT1 A 0 A_CustomMissile ("PyromancyLargeSparksFlames", 0, 0, random (0, 360), 2, random (0, 360))
// 			TNT1 A 0 A_CustomMissile ("PyromancyInfernoExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))

// 			TNT1 A 0 A_CustomMissile ("PyromancyLargeExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))

// 			TNT1 A 0 A_CustomMissile ("PyromancyLargeExplosionFlames2", 0, 0, random (0, 360), 2, random (0, 360))

// 			TNT1 A 0 A_CustomMissile ("PyromancyExplosion2Flames", 0, 0, random (0, 360), 2, random (0, 360))

			TNT1 A 2 A_SetUserVar("user_Spawn",user_Spawn+1)

// 			EXPL AAA 0 A_CustomMissile ("OldschoolRocketSmokeTrailDarker", 12, 0, random (0, 360), 2, random (40, 160))
// 			TNT1 A 2 A_CustomMissile ("PyromancyExplosion2Flames", 0, 0, random (0, 360), 2, random (0, 360))
			Loop
		Death:
// 	TNT1 A 0 A_Explode(100, 200)
    TNT1 A 0 A_Playsound("Pyromancy/FireballHit",0)
	TNT1 A 0 A_ChangeFlag("NOGRAVITY", 0)
	TNT1 AAAA 0 A_SpawnItemEx ("ExplosionFlareSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	EXPL A 0 A_SpawnItem("ExplosionParticleSpawner")
	//EXPL AAAAAAA 0 A_CustomMissile ("FireballExplosionFlamesBig", 6, 0, random (0, 360), 2, random (0, 360))
	TNT1 AA 0 A_CustomMissile ("PyromancyLargeSparksFlames", 0, 0, random (0, 360), 2, random (0, 360))
	EXPL AAA 0 A_CustomMissile ("FlyingBurningFuelMagic", 12, 0, random (0, 360), 2, random (40, 160))
	TNT1 A 2 A_CustomMissile ("PyromancyInfernoExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))
// 	TNT1 A 0 A_Explode(20, 150)
	TNT1 A 2 A_CustomMissile ("PyromancyLargeExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))
// 	TNT1 A 0 A_Explode(20, 150)
	TNT1 A 2 A_CustomMissile ("PyromancyLargeExplosionFlames2", 0, 0, random (0, 360), 2, random (0, 360))
// 	TNT1 A 0 A_Explode(20, 150)
	EXPL AAA 0 A_CustomMissile ("OldschoolRocketSmokeTrailDarker", 12, 0, random (0, 360), 2, random (40, 160))
	TNT1 AA 2 A_CustomMissile ("PyromancyExplosion2Flames", 0, 0, random (0, 360), 2, random (0, 360))
// 	TNT1 A 0 A_Explode(20, 150)
	TNT1 A 2 A_CustomMissile ("PyromancyInfernoExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))
// 	TNT1 A 0 A_Explode(20, 150)
	EXPL AAA 0 A_CustomMissile ("OldschoolRocketSmokeTrailDarker", 12, 0, random (0, 360), 2, random (40, 160))
	TNT1 AAAA 2 A_CustomMissile ("PyromancyExplosion2Flames", 0, 0, random (0, 360), 2, random (0, 360))
// 	TNT1 AAAA 2 A_Explode(20, 150)
// 			TNT1 A 0 A_SpawnItem("SCZ_Mushroom2")
			Stop
	}
}

ACTOR SCZ_Pincer2 : SCZ_Pincer
{
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_SetPitch(1)
			Goto Missile
		Missile:
			TNT1 A 0 A_SetUserVar("user_Switch",user_Switch+1)
			TNT1 A 0 A_JumpIf(user_Switch > 25,"Death")
			TNT1 A 0 A_SetAngle(Angle-Pitch)
			TNT1 A 0 A_SetPitch(pitch*1.17)
			TNT1 A 0 A_ChangeVelocity(20,0,0,CVF_RELATIVE | CVF_REPLACE)
			TNT1 A 0 A_Explode(5, 200)
			TNT1 A 0 A_Playsound("Pyromancy/FireballHit",0)
			TNT1 A 0 A_ChangeFlag("NOGRAVITY", 0)
			TNT1 A 0 A_SpawnItem("RedFlare22")
			TNT1 A 0 A_JumpIf(user_Spawn%2 != 0,4)
			EXPL A 0 A_CustomMissile ("FlyingBurningFuelMagic", 12, 0, random (0, 360), 2, random (40, 160))
			EXPL A 0 A_CustomMissile ("FlyingBurningFuelNapalm", 12, 0, random (0, 360), 2, random (40, 160))
			EXPL A 0 A_CustomMissile ("OldschoolRocketSmokeTrailDarker", 12, 0, random (0, 360), 2, random (40, 160))
// 			EXPL A 0 A_CustomMissile ("PyromancyInfernoExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))
			EXPL A 0 A_SpawnItemEx("SmallExplosionFlames")
// 			TNT1 AAAA 0 A_SpawnItemEx ("ExplosionFlareSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
// 			EXPL A 0 A_SpawnItem("ExplosionParticleSpawner")
			//EXPL AAAAAAA 0 A_CustomMissile ("FireballExplosionFlamesBig", 6, 0, random (0, 360), 2, random (0, 360))
// 			TNT1 A 0 A_CustomMissile ("PyromancyLargeSparksFlames", 0, 0, random (0, 360), 2, random (0, 360))
// 			TNT1 A 0 A_CustomMissile ("PyromancyInfernoExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))

// 			TNT1 A 0 A_CustomMissile ("PyromancyLargeExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))

// 			TNT1 A 0 A_CustomMissile ("PyromancyLargeExplosionFlames2", 0, 0, random (0, 360), 2, random (0, 360))

// 			TNT1 A 0 A_CustomMissile ("PyromancyExplosion2Flames", 0, 0, random (0, 360), 2, random (0, 360))

			TNT1 A 2 A_SetUserVar("user_Spawn",user_Spawn+1)

// 			EXPL AAA 0 A_CustomMissile ("OldschoolRocketSmokeTrailDarker", 12, 0, random (0, 360), 2, random (40, 160))
// 			TNT1 A 2 A_CustomMissile ("PyromancyExplosion2Flames", 0, 0, random (0, 360), 2, random (0, 360))
			Loop
	}
}

///////Pincer Attack End/////////

/////Mushroom Cloud spawner/////////
/*
ACTOR SCZ_Mushroom2	////You spawn this when you want to spawn a mushroom cloud.  Edit the other one to change its shape.
{
	States
	{
		Spawn:
			TNT1 A 0
		Spawn1:
			TNT1 A 0 A_JumpIf(Args[0] == 360,"Death")
			TNT1 A 0 A_SpawnItemEx("SCZ_MushroomArmSmall",40,0,0,0,0,0,Args[0])
			TNT1 A 0 A_SetArg(0,Args[0]+36)
			loop
		Death:
			TNT1 A 0
			Stop
	}
}

ACTOR SCZ_MushroomArmSmall : SCZ_MushroomArm
{
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_SetPitch(-90)
			TNT1 A 0 A_SetArg(1,random(10,25))	//Set this to 10 if you want a smooth round cloud, or increase the difference for a more varied cloud. Between 15 and 25 seems to work well.
			TNT1 A 0 A_Setuservar("user_height",random(5,8))	//changes the height of the mushroom.  Make it random for a more varied cloud.
			TNT1 A 0 A_Setuservar("user_width",random(1,5))	//changes the width of the mushroom.  Make it random for a more varied cloud.
			TNT1 A 0 A_SetArg(0,2)
			Goto Spawn1
	}
}
*/
///////End Mushroom Cloud/////////
///////Start Chaos Altar//////////

ACTOR AltarOfChaos
{
	+NOINTERACTION
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_SpawnItemEx("OrbOfChaos",0,0,85)
			CSPH A 10 A_SpawnItemEx("ChaosBoos", random(-5,5),random(-5,5),70,random(-10,10)*.1,random(-10,10)*.1,random(5,30)*.1)
			CSPH A 0 A_SpawnItemEx("ChaosGhosts",0,300,55,0,0,0,random(0,360),SXF_NOCHECKPOSITION)
			Goto Spawn+2
	}
}

ACTOR OrbOfChaos
{
	+NOINTERACTION
	RenderStyle ADD
	yscale .8
	radius 5
	States
	{
		Spawn:
			CORB ABCDEFGH 2
			Loop
	}
}

ACTOR ChaosBoos
{
	+NOINTERACTION
	RenderStyle ADD
	Alpha .8
	States
	{
		Spawn:
			SGST EEFFGGHHIIJJ 3 A_FadeOut(.05)
			Stop
	}
}

ACTOR ChaosGhosts
{
	+NOINTERACTION
	RenderStyle ADD
	Alpha 0
	var int user_Counter;
	var int user_AngleCounter;
	var int user_SideLength;
	var int user_SideCount;
	var int user_heightofs;
	States
	{
		Spawn:
			TNT1 A 0
			TNT1 A 0 A_SetUserVar("user_heightofs", random(-100,100))
			TNT1 A 0 A_Warp(AAPTR_DEFAULT,0,0,user_heightofs,0,WARPF_NOCHECKPOSITION)
			TNT1 A 0 A_SetUserVar("user_SideCount",72)
			TNT1 A 0 A_SetUserVar("user_SideLength",600*Sin(180/user_SideCount)*10000)
			TNT1 A 0 A_SetAngle(Angle+(360.0/user_SideCount)/2)
			SPIR A 3 A_ChangeVelocity((user_SideLength*.0001)/3,0,-user_heightofs/135.0,CVF_RELATIVE | CVF_REPLACE)
			Goto Spawn1
		PreSpawn1:
			TNT1 A 0 A_JumpIf(user_Counter%3==0,"Spawn2")
		Spawn1:
			TNT1 A 0 A_SetUserVar("user_Counter",user_Counter+1)
			TNT1 A 0 A_SetUserVar("user_SideLength",user_SideLength-3000)
			TNT1 A 0 A_Jumpif(user_Counter>45,"Death")
			TNT1 A 0 A_SetAngle(Angle+(360/user_SideCount))
			TNT1 A 0 A_FadeIn(1.0/45)
			SGST A 3 A_ChangeVelocity((user_SideLength*.0001)/3,0,-user_heightofs/135.0,CVF_RELATIVE | CVF_REPLACE)
			Goto PreSpawn1
		PreSpawn2:
			TNT1 A 0 A_JumpIf(user_Counter%3==0,"Spawn1")
		Spawn2:
			TNT1 A 0 A_SetUserVar("user_Counter",user_Counter+1)
			TNT1 A 0 A_SetUserVar("user_SideLength",user_SideLength-3000)
			TNT1 A 0 A_Jumpif(user_Counter>45,"Death")
			TNT1 A 0 A_SetAngle(Angle+(360/user_SideCount))
			TNT1 A 0 A_FadeIn(1.0/45)
			SGST B 3 A_ChangeVelocity((user_SideLength*.0001)/3,0,-user_heightofs/135.0,CVF_RELATIVE | CVF_REPLACE)
			Goto PreSpawn2
		Death:
			TNT1 A 0 A_ChangeVelocity(0,0,random(5,30)*.1,CVF_REPLACE)
			SGST EEFFGGHHIIJJ 3 A_FadeOut(.09)
			Stop
	}
}

///////End Chaos Altar ///////////


Actor SkullWizardProjectile
{
  Radius 8
  Height 14
  Speed 12
  Damage 6
  RenderStyle Add
  DamageType Fire
  Projectile
  -ActivatePCross
  -ActivateImpact
  +SeekerMissile
  SeeSound "H2SkullWizard/Fire"
  DeathSound "H2SkullWizard/Hit"
  States
  {
  Spawn:
    SWPJ ABCB 5 Bright
    Loop
  Death:
    SWPJ DEFG 6 Bright
    Stop
}}

Actor SkulWizFirebolt
{
  Radius 8
  Height 14
  Speed 18
  Damage 4
  RenderStyle Add
  DamageType Fire
  Projectile
  -ActivatePCross
  -ActivateImpact
  States
  {
  Spawn:
    FRTM AB 2 Bright
    Loop
  Death:
    SWPJ CDE 6 Bright
    Stop
}}

Actor SkulWizColumnBall
{
  Radius 8
  Height 14
  Speed 16
  Damage 4
  RenderStyle Add
  DamageType lightning
  Projectile
  -ActivatePCross
  -ActivateImpact
  States
  {
  Spawn:
    LGBL ABCDE 1 Bright A_SetScale(0.25,0.25)
    Loop
  Death:
    ELCF ABCDEFGH 6 Bright A_SetScale(1,1)
    Stop
}}

Actor SkuWizseekerDart
{
  Radius 8
  Height 14
  Speed 38
  Damage 4
  RenderStyle Add
  DamageType plasma
  Projectile
  -ActivatePCross
  -ActivateImpact
  +SEEKERMISSILE
  States
  {
  Spawn:
    FX05 HHIIJJ 1 Bright
	FX05 HHIIJJ 1 Bright
	TNT1 A 0 A_seekermissile(1,2)
    Loop
  Death:
    FX05 DEFG 3 Bright
    Stop
}}

Actor SKulWizSparkbomb
{
  Radius 8
  Height 14
  Speed 20
  Damage 1
  RenderStyle Add
  DamageType plasma
  Projectile
  -ActivatePCross
  -ActivateImpact
  +SeekerMissile
  SeeSound "H2SkullWizard/Fire"
  DeathSound "H2SkullWizard/Hit"
  States
  {
  Spawn:
	TNT1 AAA 5 A_ChangeVelocity(frandom(-12,12),0,0,1)
  Death:
	TNT1 A 0 A_stop
	LFX2 STUVWSTUVWSTUVWSTUVW 2 Bright
	SK0B ABCDEABCDE 2 Bright A_explode(10,80,0)
    Stop
}}

Actor SkulWizLightninWaller
{
  Radius 8
  Height 14
  Speed 18
  Damage 4
  RenderStyle Add
  alpha 0.5
  DamageType Fire
  Projectile
  -ActivatePCross
  -ActivateImpact
  +FLOORHUGGER
  ReactionTime 20
  States
  {
  Spawn:
    ICWS ABC 1 Bright
	TNT1 A 0 A_spawnItem("LightningTop")
	TNT1 A 0 A_spawnItem("LightningBottom")
	ICWS DEF 1 Bright
	TNT1 A 0 A_spawnItem("LightningTop")
	TNT1 A 0 A_spawnItem("LightningBottom")
	ICWS GHI 1 Bright
	TNT1 A 0 A_spawnItem("LightningTop")
	TNT1 A 0 A_spawnItem("LightningBottom")
	TNT1 A 0 A_CountDown
    Loop
  Death:
    ICWS JKLMNOPQR 6 Bright
    Stop
}}

Actor SkullWizardPuff : BulletPuff
{
  Radius 1
  Height 1
  +NoClip
  +PuffOnActors
  -BloodSplatter
  +BloodLessImpact
  States
  {
  Spawn:
    TNT1 A 0
    TNT1 A 1 A_RadiusThrust(10000,6,0)
    Stop
}}

Actor fakewizard
{
obituary "%o was decieved by the skullwizards magic."
health 80
Radius 21
Height 66
mass 999
speed 0
painchance 280
renderstyle add
alpha 0.5
MONSTER
+FLOORCLIP +STANDSTILL +DontHurtSpecies
Species "Skullwizard"
states
  {
	Spawn:
	SKWZ A 10 A_Look
	loop
	See:
	SKWZ A 1 A_Chase
	loop
	Missile:
	SKWZ DEF 5 A_FaceTarget
	Continousfire:
	TNT1 F 0 A_FaceTarget
	SKWZ F 4 A_CustomMissile("SkullWizardProjectile",40,0)
	SKWZ F 4 A_fadeout(0.1)
	Loop
	Pain:
	SKWZ G 3
	SKWZ G 5 A_Pain
	Goto See
	Death:
	TNT1 A 0 A_Scream
	TNT1 A 0 A_Fall
	TNT1 A 0 A_Explode(20,80)
	TNT1 AAAA 0 A_SpawnItemEx ("ExplosionFlareSpawner",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION,0)
	TNT1 AA 0 A_CustomMissile ("PyromancyLargeSparksFlames", 0, 0, random (0, 360), 2, random (0, 360))
	TNT1 A 2 A_CustomMissile ("PyromancyInfernoExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))
	TNT1 A 0 A_Explode(4,80)
	TNT1 A 2 A_CustomMissile ("PyromancyLargeExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))
	TNT1 A 0 A_Explode(4,80)
	TNT1 A 2 A_CustomMissile ("PyromancyLargeExplosionFlames2", 0, 0, random (0, 360), 2, random (0, 360))
	TNT1 A 0 A_Explode(4,80)
	TNT1 AA 2 A_CustomMissile ("PyromancyExplosion2Flames", 0, 0, random (0, 360), 2, random (0, 360))
	TNT1 A 0 A_Explode(4,80)
	TNT1 A 2 A_CustomMissile ("PyromancyInfernoExplosionFlames", 0, 0, random (0, 360), 2, random (0, 360))
	TNT1 A 0 A_Explode(4,80)
	TNT1 AAAA 2 A_CustomMissile ("PyromancyExplosion2Flames", 0, 0, random (0, 360), 2, random (0, 360))
	TNT1 AAAA 2 A_Explode(40,80)
	SKWZ GHIJKLMNOP 2
	Stop
}}


actor SkullEgg
{
radius 10
height 6
speed 6
damage 0
PROJECTILE
+FLOORHUGGER
renderstyle add
states
{
spawn:
	TNT1 AAAA 5 A_CustomMissile("RealFlameTrails",2,0,random(0,360),2,random(70,110))
summon:
	XFOD GGGG 1 A_CustomMissile("RealFlameTrails",2,0,random(0,360),2,random(70,110))
	XFOD FFFF 1 A_CustomMissile("RealFlameTrails",2,0,random(0,360),2,random(70,110))
	ZFOD HHHH 1 A_CustomMissile("RealFlameTrails",2,0,random(0,360),2,random(70,110))
	TNT1 A 0 A_SpawnItemEx("fakewizard",0,0,2,0,0,0,0,SXF_NOCHECKPOSITION)
	stop
Death:
	TNT1 A 1 BRIGHT
	Stop
}}